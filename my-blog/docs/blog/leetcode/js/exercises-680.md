---
title: ã€æ¯æ—¥ä¸€é¢˜ã€‘680 éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡
date: 2020/05/19 00:00:00
tags: ["LeetCode", "Exercise", "æ¯æ—¥ä¸€é¢˜"]
difficulty: ç®€å•
---

# ã€æ¯æ—¥ä¸€é¢˜ã€‘680 éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡

<ClientOnly>
  <display-bar :displayData="$frontmatter"></display-bar>
</ClientOnly>

> é¢˜ç›®åœ°å€ï¼š[680.éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡](https://leetcode-cn.com/problems/valid-palindrome-ii/)

> **é¢˜æ„ï¼š**
>
> ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² sï¼Œæœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚åˆ¤æ–­æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚
>
>**ç¤ºä¾‹1ï¼š**
>
> ```
> è¾“å…¥: "aba"
> è¾“å‡º: True
>```
>
>**ç¤ºä¾‹2ï¼š**
>
>```
> è¾“å…¥: "abca"
> è¾“å‡º: True
> ```
>
>**æ³¨æ„:**
>
>å­—ç¬¦ä¸²åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯50000ã€‚

## ä¸€ã€å°è¯•æš´åŠ›ç ´è§£

> ç…§ä¾‹å°è¯•æš´åŠ›~~å¾ªç¯~~è§£æ³•ã€‚ã€‚åœ¨å¤±è´¥äº†å¥½å‡ æ¬¡åï¼Œ~~å·çª¥äº†ä¸€çœ¼é¢˜è§£~~ï¼Œé›†å„å®¶æ‰€é•¿ï¼Œç»ˆäºè°ƒå‡ºæ¥äº†ğŸ¤£ ğŸ‰ã€‚
>
> **æ€è·¯ï¼š**
>
> è¿™ä¸ªåº”è¯¥ç®—æ˜¯**è¾¹ç•Œ + éå†**å§ã€‚æ¯æ¬¡éå†æ—¶å·¦è¾¹ç•Œ`left++`ï¼Œå³è¾¹ç•Œ`right--`ã€‚å½“`s[left] !== s[right]`å³**ä¸¤è¾¹è¾¹ç•Œå­—ç¬¦ä¸ç›¸ç­‰çš„æ—¶å€™**ï¼Œåˆ†åˆ«æˆªå–`s`**ä¸­å·¦è¾¹ç•Œåˆ°å³è¾¹ç•Œéƒ¨åˆ†ï¼ˆé™¤å»å³è¾¹ç•Œï¼‰**ã€æˆªå–`s`**ä¸­å·¦è¾¹ç•Œåˆ°å³è¾¹ç•Œéƒ¨åˆ†ï¼ˆé™¤å»å·¦è¾¹ç•Œï¼‰**ã€‚
>
> å°†ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ†åˆ«è½¬æ¢æˆæ•°ç»„`arr`å’Œ`_arr`ï¼Œåˆ†åˆ«ä½¿ç”¨`Array.reverse()`åè½¬ï¼šğŸ‘‡
>
> * `arr` -> `arr.reverse()`
> * `_arr` -> `_arr.reverse()`
>
> å†è½¬æ¢ä¸ºå­—ç¬¦ä¸²åæ¯”è¾ƒ**æœ¬ä½“**ä¸**åè½¬åæ˜¯å¦ç›¸ç­‰**æ¥åˆ¤æ–­å‰©ä½™éƒ¨åˆ†**æ˜¯ä¸æ˜¯å›æ–‡å­—ç¬¦ä¸²**ã€‚
>
> * `arr.join('')` -> `arr.reverse().join('')`
> * `_arr.join('')` -> `_arr.reverse().join('')`

```js
/**
 * @param {string} s
 * @return {boolean}
 */
var validPalindrome = function(s) {
  for (let left = 0, right = s.length - 1; left < right; left++, right--) {
    if (s[left] !== s[right]) {
      let arr = s.slice(left, right).split('');// æˆªå– s ä¸­å·¦è¾¹ç•Œåˆ°å³è¾¹ç•Œéƒ¨åˆ†ï¼ˆé™¤å»å³è¾¹ç•Œï¼‰
      let _arr = s.slice(left + 1, right + 1).split('');// æˆªå– s ä¸­å·¦è¾¹ç•Œåˆ°å³è¾¹ç•Œéƒ¨åˆ†ï¼ˆé™¤å»å·¦è¾¹ç•Œï¼‰

      return arr.join('') === arr.reverse().join('')
        || _arr.join('') === _arr.reverse().join('');// æ¯”è¾ƒæœ¬ä½“ä¸åè½¬åæ˜¯å¦ç›¸ç­‰
    }
  }

  return true;
}
```

**æäº¤ç»“æœï¼š**

| Time        | Cache       |
| ----------- | ----------- |
| 204ms 9.22% | 56.9MB 100% |

## äºŒã€4è¡Œé€’å½’ + è¾¹ç•Œï¼ˆæ¥è‡ªé¢˜è§£ï¼‰

> æ¥è‡ªé¢˜è§£[LeetCode@jsyt](https://leetcode-cn.com/problems/valid-palindrome-ii/solution/js-4-xing-dai-ma-jian-dan-yi-dong-by-jsyt/)
>
> **åˆ†æé¢˜æ„ï¼š**ï¼ˆçœ‹æ‡‚å®˜æ–¹é¢˜è§£æœ‰æ„Ÿï¼‰
>
> ä½¿ç”¨`flag`æ¥æ ‡è®°ä¸€æ¬¡é€’å½’è°ƒç”¨ï¼Œå¦‚æœæ˜¯`flag == true`å°±ä»£è¡¨å¯ä»¥æ‰§è¡Œé€’å½’ï¼ˆé¢˜æ„æ˜¯**æœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦**ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡é€’å½’ï¼‰ã€‚

```js
/**
 * @param {string} s
 * @return {boolean}
 */
var validPalindrome = function(s, flag = true) {
  let l = 0, r = s.length - 1;
  while (l < r && s[l] === s[r]) l++, r--;// ç›¸ç­‰ç›´æ¥è·³è¿‡
  if (r <= l) return true;// å·¦>=å³è¾¹ç•Œæ—¶è¿”å›true
  if (flag == true) return validPalindrome(s.slice(l, r), false) || validPalindrome(s.slice(l + 1, r + 1), false)// flag == true æ‰§è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡
  return false;// ä¸Šé¢æ¡ä»¶éƒ½ä¸æ»¡è¶³åˆ™è¿”å›false
};
```