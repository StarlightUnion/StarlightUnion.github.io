(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{811:function(s,t,a){"use strict";a.r(t);var e=a(39),_=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"【git】github-ssh-key配置push仍然失败的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#【git】github-ssh-key配置push仍然失败的问题"}},[s._v("#")]),s._v(" 【Git】GitHub SSH Key配置push仍然失败的问题")]),s._v(" "),t("ClientOnly",[t("display-bar",{attrs:{displayData:s.$frontmatter}})],1),s._v(" "),t("p",[t("img",{attrs:{src:"/images/other/devtool/git_ssh_key_01.png",alt:"git_ssh_key"}})]),s._v(" "),t("blockquote",[t("p",[s._v("最近在搞博客的事情，发现部署时会出现如上图所示的错误，主要是这句："),t("code",[s._v("git@github.com: Permission denied (publickey)")]),s._v("，提示"),t("strong",[s._v("没有权限")]),s._v("，push失败，之前一直是拿GitHub客户端上下代码的，这回打命令用git居然失败了。结果一番研究"),t("s",[s._v("百度")]),s._v("，发现和"),t("code",[s._v("SSH Key")]),s._v("有关，下面是我"),t("strong",[s._v("解决这个问题的经过")]),s._v("，在此记录下来。↓")])]),s._v(" "),t("h2",{attrs:{id:"一、获取ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、获取ssh-key"}},[s._v("#")]),s._v(" 一、获取SSH Key")]),s._v(" "),t("p",[t("code",[s._v("SSH Key")]),s._v("字面意思就是个"),t("strong",[s._v("钥匙")]),s._v("，一般"),t("strong",[s._v("发起网络请求")]),s._v("时我们总要在传入"),t("code",[s._v("ID")]),s._v("，表明身份，这东西当然也是如此。")]),s._v(" "),t("p",[s._v("首先需要"),t("strong",[s._v("手动获取")]),t("code",[s._v("SSH Key")]),s._v("，命令行"),t("strong",[s._v("进入到项目文件夹后")]),s._v("，输入指令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" user.email "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"email@email.com"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这里email为注册GitHub账号的邮箱，下同")]),s._v("\n-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ssh-keygen "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"email@email.com"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取SSH Key")]),s._v("\n-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ssh-add ~/.ssh/id_rsa "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将获取的SSH Key添加到id_rsa 这一步必不可少")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("接下来一路回车，如果出现"),t("code",[s._v("xxxx/.ssh/id_rsa already exists. Overwrite (y/n)?")]),s._v("就摁"),t("code",[s._v("y")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"_1-存放位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-存放位置"}},[s._v("#")]),s._v(" 1.存放位置")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("⚠️"),t("code",[s._v("SSH Key")]),s._v("会存放在：↓")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/other/devtool/git_ssh_key_07.png",alt:"git_ssh_key"}})]),s._v(" "),t("p",[t("strong",[s._v("macOS：")]),s._v(" "),t("code",[s._v("访达 -> 前往 -> 个人 -> .ssh")]),s._v("（.ssh文件夹一般是隐藏的，"),t("strong",[s._v("显示隐藏文件夹")]),s._v("可用"),t("strong",[s._v("快捷键")]),t("code",[s._v("shift + command + .")]),s._v("）")]),s._v(" "),t("p",[t("strong",[s._v("Windows：")]),s._v(" "),t("code",[s._v("C:\\Users\\Administrator\\.ssh")])]),s._v(" "),t("p",[s._v(".ssh文件夹下包含有"),t("code",[s._v("id_rsa")]),s._v("和"),t("code",[s._v("id_rsa.pub")]),s._v("两个文件，我们需要的key就在"),t("code",[s._v("id_rsa.pub")]),s._v("里面。")]),s._v(" "),t("h3",{attrs:{id:"_2-打开方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-打开方式"}},[s._v("#")]),s._v(" 2.打开方式")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.ssh/id_rsa.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("可用以上方式打开，当然也可以直接双击打开。"),t("strong",[s._v("退出编辑模式")]),s._v("快捷键"),t("code",[s._v("shift + Q")]),s._v("，再摁"),t("code",[s._v("Q")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"二、为github设置ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、为github设置ssh-key"}},[s._v("#")]),s._v(" 二、为GitHub设置SSH Key")]),s._v(" "),t("h3",{attrs:{id:"_1-设置ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-设置ssh-key"}},[s._v("#")]),s._v(" 1.设置SSH Key")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("❗️这里要注意一下，登录GitHub后点击"),t("strong",[s._v("右上角的头像")]),s._v("，然后"),t("code",[s._v("Settings -> SSH and GPG Keys -> New SSH Keys")]),s._v(" 。⬇️")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/other/devtool/git_ssh_key_02.png",alt:"git_ssh_key"}}),s._v("➡️"),t("img",{attrs:{src:"/images/other/devtool/git_ssh_key_03.png",alt:"git_ssh_key"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/other/devtool/git_ssh_key_08.png",alt:"git_ssh_key"}})]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.ssh/id_rsa.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("添加key，title任意填，key就不行了，使用上面的命令打开后，将"),t("strong",[s._v("完整的key")]),s._v("，就是"),t("strong",[s._v("从"),t("code",[s._v("ssh-rsa一直")]),s._v("到邮箱")]),s._v("，都复制到里面去，保存即可。完成后的截图⬇️。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/other/devtool/git_ssh_key_04.png",alt:"git_ssh_key"}})]),s._v(" "),t("h3",{attrs:{id:"_2-ssh-key-和-deploy-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ssh-key-和-deploy-key"}},[s._v("#")]),s._v(" 2.SSH Key 和 Deploy Key")]),s._v(" "),t("p",[s._v("这里其实还有个点"),t("s",[s._v("坑")]),s._v("，每个仓库的设置页有一个"),t("code",[s._v("Deploy Key")]),s._v("，它的"),t("strong",[s._v("获取方法和上面是一样的")]),s._v("，但是这个只对这一个仓库有效，而且似乎有有效期限？之前添加SSH Key搞错了，忙活了好长时间。")]),s._v(" "),t("h3",{attrs:{id:"_3-接下来"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-接下来"}},[s._v("#")]),s._v(" 3.接下来")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" git@github.com "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#测试是否添加成功")]),s._v("\n-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ssh-add ~/.ssh/id_rsa "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 若出现问题 重新添加key（不用在Github里再添加）")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("push一下试试吧。")]),s._v(" "),t("h2",{attrs:{id:"三、问题复现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、问题复现"}},[s._v("#")]),s._v(" 三、问题复现")]),s._v(" "),t("p",[s._v("如果首图的问题复现，而最近才添加过SSH Key，那么可以重新使用"),t("code",[s._v("ssh-add ~/.ssh/id_rsa")]),s._v("试一试。")])],1)}),[],!1,null,null,null);t.default=_.exports}}]);