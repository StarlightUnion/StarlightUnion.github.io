(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{715:function(t,a,_){"use strict";_.r(a);var v=_(39),o=Object(v.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"【html进阶】如何实现点击a标签直接下载图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【html进阶】如何实现点击a标签直接下载图片"}},[t._v("#")]),t._v(" 【HTML进阶】如何实现点击a标签直接下载图片？")]),t._v(" "),a("ClientOnly",[a("display-bar",{attrs:{displayData:t.$frontmatter}})],1),t._v(" "),a("blockquote",[a("p",[t._v("近几天遇见个需求，需要点击某个图标直接下载图片。")])]),t._v(" "),a("p",[t._v("参考以前的做法，在"),a("code",[t._v("<a>")]),t._v("标签里套了个图标，但是"),a("strong",[t._v("点击之后却并不是直接下载")]),t._v("，而是"),a("strong",[t._v("直接打开了图片")]),t._v("？😒")]),t._v(" "),a("p",[a("strong",[t._v("我要的是下载不是预览啊喂！？")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("经过一番研究"),a("s",[t._v("搜索")]),t._v("，发现不少文章的"),a("strong",[t._v("解决方案")]),t._v("都直接指向了"),a("code",[t._v("<a>")]),t._v("标签的一个属性"),a("code",[t._v("download")]),t._v("（详见"),a("a",{attrs:{href:"#%E5%9B%9B%E3%80%81%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[t._v("参考资料[1]")]),t._v("）。")]),t._v(" "),a("h2",{attrs:{id:"一、-a-标签的download属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、-a-标签的download属性"}},[t._v("#")]),t._v(" 一、"),a("code",[t._v("<a>")]),t._v("标签的"),a("code",[t._v("download")]),t._v("属性")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("定义和用法")]),t._v(" "),a("p",[a("code",[t._v("download")]),t._v("属性规定被下载的超链接目标。")]),t._v(" "),a("p",[t._v("在 <a> 标签中必须设置"),a("code",[t._v("href")]),t._v("属性。")]),t._v(" "),a("p",[t._v("该属性也可以设置一个值来规定下载文件的名称。所允许的值没有限制，浏览器将自动检测正确的文件扩展名并添加到文件 (.img, .pdf, .txt, .html, 等等)。")])]),t._v(" "),a("h3",{attrs:{id:"_1-注意这里有坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-注意这里有坑"}},[t._v("#")]),t._v(" 1.注意这里有坑")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("只有当"),a("code",[t._v("href")]),t._v("为"),a("strong",[t._v("相对地址")]),t._v("时才能成功下载，如果填写的是"),a("strong",[t._v("绝对地址")]),t._v("，"),a("strong",[t._v("还是直接打开预览！！！")])])]),t._v(" "),a("h3",{attrs:{id:"_2-测试一下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-测试一下"}},[t._v("#")]),t._v(" 2.测试一下")]),t._v(" "),a("h4",{attrs:{id:"_1-相对地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-相对地址"}},[t._v("#")]),t._v(" 1）相对地址")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v('<a href="/logo.png">测试链接1</a>')])]),t._v(" "),a("p",[a("a",{attrs:{href:"/logo.png"}},[t._v("测试链接1")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('<a href="/logo.png" download="logo">测试链接2</a>')])]),t._v(" "),a("p",[a("a",{attrs:{href:"/logo.png",download:"logo"}},[t._v("测试链接2")])])])]),t._v(" "),a("h4",{attrs:{id:"_2-绝对地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-绝对地址"}},[t._v("#")]),t._v(" 2）绝对地址")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v('<a href="https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png" download="test">测试链接3</a>')])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png",download:"test"}},[t._v("测试链接3")])])])]),t._v(" "),a("h2",{attrs:{id:"二、如何解决绝对地址的下载问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、如何解决绝对地址的下载问题"}},[t._v("#")]),t._v(" 二、如何解决绝对地址的下载问题")]),t._v(" "),a("p",[t._v("目前我能想到两种方法：")]),t._v(" "),a("ul",[a("li",[t._v("1.针对"),a("strong",[t._v("其它源的图片或文件地址做代理")]),t._v("，将对它们的访问代理到本地处理。")]),t._v(" "),a("li",[t._v("2.将"),a("strong",[t._v("其它源的图片或文件转成"),a("code",[t._v("base64")]),t._v("格式")]),t._v("放入"),a("code",[t._v("href")]),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"三、浏览器兼容性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、浏览器兼容性"}},[t._v("#")]),t._v(" 三、浏览器兼容性")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/frontend/css/a-download-01.png",alt:"a-download-01"}})]),t._v(" "),a("h2",{attrs:{id:"四、参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、参考资料"}},[t._v("#")]),t._v(" 四、参考资料")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("1."),a("a",{attrs:{href:"https://www.w3school.com.cn/tags/att_a_download.asp",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML <a> download 属性 - W3School"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("2."),a("a",{attrs:{href:"https://www.cnblogs.com/lizhaoyao/p/5457415.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("在html使用a标签 直接下载图片 不通过后台实现直接下载"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("3."),a("a",{attrs:{href:"https://blog.csdn.net/u011423258/article/details/84821792",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击a标签下载当前链接的图片"),a("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);a.default=o.exports}}]);