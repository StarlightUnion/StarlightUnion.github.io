(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{803:function(t,e,r){"use strict";r.r(e);var n=r(39),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"nginx部署笔记-常见错误总结-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx部署笔记-常见错误总结-2"}},[t._v("#")]),t._v(" Nginx部署笔记-常见错误总结（2）")]),t._v(" "),e("ClientOnly",[e("display-bar",{attrs:{displayData:t.$frontmatter}})],1),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("Nginx")]),t._v("错误总结第二弹！🎉（其实是踩坑爬坑经验总结😐）")])]),t._v(" "),e("h2",{attrs:{id:"一、根目录下缺少文件夹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、根目录下缺少文件夹"}},[t._v("#")]),t._v(" 一、根目录下缺少文件夹")]),t._v(" "),e("p",[e("strong",[t._v("错误如下：")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/images/other/aboutdeploy/nginx-error-s2-01.png",alt:"nginx-error-s2-01"}})]),t._v(" "),e("p",[t._v("其实原因就是"),e("strong",[t._v("根目录下少了个"),e("code",[t._v("temp")]),t._v("文件夹")]),t._v("。。")]),t._v(" "),e("p",[t._v("一个典型的"),e("code",[t._v("Nginx")]),t._v("包目录结构如下：👇")]),t._v(" "),e("p",[e("img",{attrs:{src:"/images/other/aboutdeploy/nginx-deploy-02.png",alt:"nginx-project-content"}})]),t._v(" "),e("h2",{attrs:{id:"二、处理http-304-not-modified问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、处理http-304-not-modified问题"}},[t._v("#")]),t._v(" 二、处理"),e("code",[t._v("HTTP 304 Not Modified")]),t._v("问题")]),t._v(" "),e("blockquote",[e("p",[t._v("将往"),e("strong",[t._v("某个地址的请求代理后")]),t._v("，出现第一次见的"),e("code",[t._v("304 Not Modified")]),t._v("状态码。")]),t._v(" "),e("p",[t._v("查了一下，这个状态码提示的是当前请求的资源本地有缓存并且没有修改过，就会返回"),e("code",[t._v("304")]),t._v("，否则就是"),e("code",[t._v("200")]),t._v("了，直接返回资源。返回"),e("code",[t._v("304")]),t._v("状态码，服务端可以避免其它的操作，可以减少带宽的使用。")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/images/other/aboutdeploy/nginx-error-s2-03.png",alt:"nginx-error-s2-03"}})]),t._v(" "),e("p",[t._v("解决这个问题可以在"),e("code",[t._v("nginx.conf")]),t._v("的"),e("strong",[t._v("代理块配置中设置一个请求头表示没有缓存，强制从服务端获取资源")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-nginx line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-nginx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token directive"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" Cache-Contro no-cache")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面的贴图写错了")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"/images/other/aboutdeploy/nginx-error-s2-02.png",alt:"nginx-error-s2-02"}})]),t._v(" "),e("p",[t._v("🍗 有待补充...")])],1)}),[],!1,null,null,null);e.default=s.exports}}]);