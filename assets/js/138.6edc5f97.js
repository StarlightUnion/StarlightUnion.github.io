(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{835:function(t,v,_){"use strict";_.r(v);var e=_(39),s=Object(e.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"将博客仓库从github迁移到gitee"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#将博客仓库从github迁移到gitee"}},[t._v("#")]),t._v(" 将博客仓库从Github迁移到Gitee")]),t._v(" "),v("ClientOnly",[v("display-bar",{attrs:{displayData:t.$frontmatter}})],1),t._v(" "),v("h2",{attrs:{id:"一、从github拉取更新巨慢"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、从github拉取更新巨慢"}},[t._v("#")]),t._v(" 一、从"),v("code",[t._v("Github")]),t._v("拉取更新巨慢")]),t._v(" "),v("p",[t._v("  参考前文"),v("a",{attrs:{href:"/blog/other/aboutdeploy/auto-deploy-nodejs"}},[t._v("Node.js + GitHub Webhooks实现自动化部署")]),t._v("，我的博客使用了"),v("strong",[t._v("自动化部署")]),t._v("。更新时，"),v("strong",[t._v("只需要执行相关脚本（打包修改后的博客源码并提交到"),v("code",[t._v("Github")]),t._v("，服务器会从"),v("code",[t._v("Github")]),t._v("下载打包后的源码）。")])]),t._v(" "),v("p",[t._v("  但是国内网络从"),v("code",[t._v("Github")]),v("strong",[t._v("拉取和克隆")]),t._v("代码一直是不稳定的，我在更新过程中经常遇到因为网络原因（速度"),v("strong",[t._v("xkb/s~1xkb/s")]),t._v("不等🙃 ）导致拉取更新超时，从而导致"),v("strong",[t._v("更新失败")]),t._v("。。如下图👇 ，是一次更新失败的日志。")]),t._v(" "),v("p",[v("img",{attrs:{src:"/images/thoughts/tbcfgtg-01.png",alt:"tbcfgtg-01"}})]),t._v(" "),v("h2",{attrs:{id:"二、迁移到gitee"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、迁移到gitee"}},[t._v("#")]),t._v(" 二、迁移到"),v("code",[t._v("Gitee")])]),t._v(" "),v("p",[v("code",[t._v("Gitee")]),t._v("（即码云）毕竟是国内版的"),v("code",[t._v("Github")]),t._v("，体验过之后感觉还不错，就是用惯了"),v("code",[t._v("Github")]),t._v("，它的操作习惯和界面有些不适应。")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("1.在"),v("code",[t._v("Gitee")]),t._v("上新建一个仓库用于保存博客打包后的源码，从"),v("code",[t._v("Github")]),t._v("导入代码。")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("Gitee特有导入功能")]),t._v(" "),v("p",[v("code",[t._v("Gitee")]),t._v("特有导入功能可以从"),v("code",[t._v("Github")]),t._v("上导入仓库内容。")])])]),t._v(" "),v("li",[v("p",[t._v("2.在服务器上克隆该仓库，修改"),v("code",[t._v("Nginx")]),t._v("配置，将博客"),v("code",[t._v("root")]),t._v("地址指向克隆好的仓库地址。")])]),t._v(" "),v("li",[v("p",[t._v("3.在"),v("code",[t._v("Gitee")]),t._v("上给新建仓库设置"),v("code",[t._v("Webhooks")]),t._v("地址，向该地址"),v("strong",[t._v("测试推送")]),t._v("。")]),t._v(" "),v("p",[v("img",{attrs:{src:"/images/thoughts/tbcfgtg-02.png",alt:"tbcfgtg-02"}})])]),t._v(" "),v("li",[v("p",[t._v("4.在服务器上根据测试推送"),v("strong",[t._v("修改服务配置")]),t._v("。")])]),t._v(" "),v("li",[v("p",[t._v("5.在博客的部署脚本上添加一行推送地址，打包完成后强制推送到这两个仓库。")]),t._v(" "),v("p",[v("img",{attrs:{src:"/images/thoughts/tbcfgtg-03.png",alt:"tbcfgtg-03"}})])])]),t._v(" "),v("h2",{attrs:{id:"三、要点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、要点"}},[t._v("#")]),t._v(" 三、要点")]),t._v(" "),v("p",[t._v("  推送到"),v("code",[t._v("Gitee")]),t._v("需要在本地配置"),v("code",[t._v("Gitee")]),t._v("的SSH Key，可参考"),v("a",{attrs:{href:"/blog/other/devtool/gitlab-and-github"}},[t._v("WindowsPC同时配置GitLab和GitHub")]),t._v("。")])],1)}),[],!1,null,null,null);v.default=s.exports}}]);