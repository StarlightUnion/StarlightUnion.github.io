---
title: vuepress + GitHubæ­å»ºä¸ªäººåšå®¢ç¬”è®°ï¼ˆ1ï¼‰
date: 2020/04/07 00:00:00
tags: ["Vuepress", "Blog"]
---

# vuepress + GitHubæ­å»ºä¸ªäººåšå®¢ç¬”è®°ï¼ˆ1ï¼‰

<ClientOnly>
  <display-bar :displayData="$frontmatter"></display-bar>
</ClientOnly>

> å‡†å¤‡æ­åšå®¢äº†ã€‚ä¹‹å‰äº†è§£äº†ä¸€ä¸‹`vuepress`ï¼Œå®ƒ**æç®€**è€Œä¸”åˆ**æ”¯æŒMDè¯­æ³•**ï¼Œè€Œä¸”è¿˜å¯ä»¥ä½¿ç”¨`Vue`è‡ªå·±**å¼€å‘ä¸ªæ€§åŒ–æ’ä»¶**ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ç†ç”±æ˜¯æœ‰è‡ªå·±çš„ç½‘ç«™æ„Ÿè§‰å¾ˆé…·ğŸ‘€ï¼
## ä¸€ã€å¼€å§‹

ç›¸å…³çš„æ•™ç¨‹ç½‘ç»œä¸Šå·²ç»ä¸€æœä¸€å¤§å †äº†ï¼Œæˆ‘çš„[å‚è€ƒæ•™ç¨‹](https://www.cnblogs.com/softidea/p/10084946.html)ï¼Œ å¾ˆå¤š**é‡å¤çš„åŠ³åŠ¨éƒ½ç®€è¦å†™ä¸€ä¸‹å¥½äº†**ã€‚

```shell
# å…¨å±€å®‰è£…
npm install -g vuepress
# å»ºç«‹my-blogæ–‡ä»¶å¤¹
mkdir my-blog
# è¿›å…¥my-blogæ–‡ä»¶å¤¹
cd my-blog
# åˆå§‹åŒ–é¡¹ç›® è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆpackage.jsonç­‰æ–‡ä»¶
npm init -y
```

åœ¨`my-blog`ä¸‹åˆ›å»ºæ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š

```
.æ ¹ç›®å½•
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ .vuepress
â”‚   â”‚   â”œâ”€â”€ public å­˜æ”¾å›¾ç‰‡ç­‰é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ styles
â”‚   â”‚   â”‚   â””â”€â”€ palette.styl ä¸»é¢˜æ ·å¼->å…¨å±€
â”‚   â”‚   â””â”€â”€ config.js é…ç½®
â”‚   â”œâ”€â”€ README.md é¦–é¡µ
â”‚   â””â”€â”€ blog
â”‚       â””â”€â”€ README.md
â””â”€â”€ package.json
```

::: danger

âš ï¸æ³¨æ„ï¼š`README.md`æ˜¯å¿…é¡»çš„ï¼Œè®¿é—®`/blog/`æ—¶å°†è‡ªåŠ¨æŒ‡å‘`blog`æ–‡ä»¶å¤¹ä¸‹é¢çš„`README.md`ï¼Œæ²¡æœ‰è¯¥æ–‡ä»¶ä¼šå¼•å‘ç¼–è¯‘é”™è¯¯ã€‚

:::

### 1.`config.js`

```js
module.exports = {
  title: 'æ¸¸å®¢17846',
  description: 'Just do it!',
  head: [// ä¼šåŠ å…¥<head>ä¸­
    ['link', { rel: 'icon', href: '/logo.ico' }],// æŒ‡å®šæµè§ˆå™¨Tabå›¾æ ‡
    ['link', { rel: 'manifest', href: '/manifest.json' }],//PWA
    ['link', { rel: 'apple-touch-icon', href: '/logo.png' }]// æŒ‡å®šsafariæµè§ˆå™¨ä¿å­˜ä¹¦ç­¾è‡³æ¡Œé¢å›¾æ ‡
  ],
  serviceWorker: true,
  base: '/',// éƒ¨ç½²æ—¶æŒ‡å®šå­˜æ”¾çš„é¡¹ç›®çš„åœ°å€
  markdown: {
    lineNumbers: true// ä»£ç å—è¡Œå·æ˜¾ç¤º
  },
  themeConfig: {
    logo: '/logo.png',// ä¸»é¡µæ˜¾ç¤ºå›¾æ ‡
    nav: [
      { text: 'é¦–é¡µ', link: '/' },// é¦–é¡µåœ°å€ä¸æƒ³æŒ‡å®šçš„è¯å°±ä¸ç”¨æ”¹ï¼Œé»˜è®¤æŒ‡å‘docsä¸‹é¢çš„README.md
      { text: 'åšæ–‡', link: '/blog/' },// é»˜è®¤æŒ‡å‘blogä¸‹çš„README.md
      { text: 'GitHub', link: 'https://github.com/UAERNAME' }
    ],
    lastUpdated: 'ä¸Šæ¬¡æ›´æ–°æ—¶é—´'// é¡µé¢æœ€ä¸‹æ–¹çš„æœ€åæ›´æ–°æ—¶é—´æˆ³
  }
};
```

å‚è€ƒèµ„æ–™ï¼š

* [vuepressåŸºæœ¬é…ç½®å®˜æ–¹æ–‡æ¡£](https://www.vuepress.cn/guide/basic-config.html#é…ç½®æ–‡ä»¶)

* [PWA](https://developer.mozilla.org/zh-CN/docs/Web/Manifest)

### 2.`palette.styl`

```stylus
$accentColor = #87cefa // ä¸»é¢˜è‰²
$textColor = #000 // æ–‡å­—é¢œè‰²
$borderColor = #eaecef // è¾¹æ¡†é¢œè‰²
$codeBgColor = #282c34 // ä»£ç èƒŒæ™¯é¢œè‰²
```

è¿™æ˜¯å…¨å±€æ ·å¼æ–‡ä»¶ï¼Œå¯ä»¥**è‡ªå·±è®¾ç½®ä¸»é¢˜è‰²**ç­‰ï¼Œå¦å¤–åœ¨å†™è‡ªå·±çš„æ’ä»¶æˆ–é¡µé¢æ—¶ï¼Œ**è¿™äº›æ ·å¼å¯ä»¥ç»§æ‰¿ä½¿ç”¨**ã€‚

### 3.`package.json`

åœ¨`package.json`çš„`"scripts"`é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š

```json
{
  ...
  "scripts": {
    "dev": "vuepress dev docs",// å¼€å‘ç¯å¢ƒè¿è¡Œ
    "build": "vuepress build docs"// æ‰“åŒ…ç”Ÿæˆéƒ¨ç½²ç¯å¢ƒçš„æ–‡ä»¶
  }
  ...
}
```

ä¹Ÿå¯ä»¥ä¸æ·»åŠ ï¼Œç›´æ¥ç”¨`vuepress dev docs`å’Œ`vuepress build docs`ï¼Œ**macOS**ä¸‹è¯·åœ¨å‘½ä»¤å‰åŠ `sudo`ã€‚

**æ¥ä¸‹æ¥å°±å¯ä»¥è·‘ä¸€ä¸‹è¯•è¯•äº†** => `npm run dev`ã€‚

::: warning

è¿™éƒ¨åˆ†æœ‰ä¼šé‡åˆ°ä¸€äº›æ¯”è¾ƒå¸¸è§çš„**é”™è¯¯/é—®é¢˜**ï¼Œå‚è§[ç¬¬ä¸‰éƒ¨åˆ†](#ä¸‰ã€å¸¸è§é—®é¢˜)

:::

## äºŒã€éƒ¨ç½²

éƒ¨ç½²è¿™é‡Œéœ€è¦ä½¿ç”¨GitHubæ¥æ‰˜ç®¡ä»£ç ï¼Œä½¿ç”¨`GitHub Pages`æ­å»ºé™æ€ç«™ç‚¹ï¼Œæœ‰çš„ç”¨å°±è¡Œäº†ï¼Œè¦å•¥è‡ªè¡Œè½¦ã€‚

### 1.æ–°å»ºä¸€ä¸ªéƒ¨ç½²ç”¨ä»“åº“

åœ¨GitHubä¸­æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œè¯¥ä»“åº“å°†è¢«ç”¨æ¥å­˜æ”¾æ‰“åŒ…ç”Ÿæˆå¥½çš„ç”¨æ¥éƒ¨ç½²çš„æ–‡ä»¶ï¼ˆå°±æ˜¯`npm run build`/`vuepress build docs`å‘½ä»¤ç”Ÿæˆçš„å­˜æ”¾åœ¨`docs/.vuepress`é‡Œé¢çš„`dist`æ–‡ä»¶å¤¹ï¼‰ã€‚

::: warning

âš ï¸æ³¨æ„ï¼š**è¯¥ä»“åº“**å¿…é¡»å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š

* 1.ä»“åº“åå¿…é¡»ä¸º`USERNAME.github.io`ï¼Œæ³¨æ„è¿™æ˜¯**ç”¨æˆ·åè€Œä¸æ˜¯æ˜µç§°**ã€‚è¯¥ä»“åº“ä¸ç”¨å…‹éš†è‡³æœ¬åœ°ã€‚

  ç”¨æˆ·åå¯ä»¥ä»GitHubåœ°å€ä¸­çœ‹å‡ºæ¥ -> **çº¢åœˆå†…å®¹**ï¼Œå¯ä¸åˆ†å¤§å°å†™ã€‚

  ![vuepress](/images/other/vuepress-blog-01.png)

* 2.éœ€åœ¨è®¾ç½®ä¸­å°†`GitHub Pages`å¼€å¯ã€‚

  æ­¥éª¤ï¼šè¿›å…¥ä»“åº“->ç‚¹å‡»é€‰é¡¹å¡ä¸­çš„`Setting`->`GitHub Pages`ä¸­é€‰æ‹©`master branch`ã€‚

  ![vuepress](/images/other/vuepress-blog-02.png)

  ![vuepress](/images/other/vuepress-blog-03.png)

:::

### 2.å¦å¤–æ–°å»ºä¸€ä¸ªæºä»£ç ä»“åº“

ä¸Šé¢çš„ä»“åº“ç”¨æ¥**å­˜æ”¾éƒ¨ç½²é¡¹ç›®ç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶**ï¼Œæœ¬ä»“åº“ç”¨æ¥**å­˜æ”¾åšå®¢é¡¹ç›®çš„æºä»£ç **ï¼Œå°±æ˜¯`my-blog`æ–‡ä»¶å¤¹ã€‚

### 3.éƒ¨ç½²è‡ªåŠ¨åŒ–`deploy.sh`

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`deploy.sh`ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

```shell
# ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯
set -e

# ç¼–è¯‘ç”Ÿæˆé™æ€æ–‡ä»¶
npm run build

# è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹
cd docs/.vuepress/dist

git init
git add -A
git commit -m 'deploy'

# å‘å¸ƒåˆ°ä¸Šé¢å»ºç«‹çš„ç¬¬ä¸€ä¸ªä»“åº“
git push -f git@github.com:USERNAME/USERNAME.github.io.git master

# è¿”å›ä¸Šä¸€æ¬¡å·¥ä½œç›®å½•
cd -
```

åœ¨`package.json`çš„`scripts`ä¸­æ·»åŠ å‘½ä»¤ï¼š

```json {7}
{
  ...
  "scripts": {
    "dev": "vuepress dev docs",// å¼€å‘ç¯å¢ƒè¿è¡Œ
    "build": "vuepress build docs",// æ‰“åŒ…ç”Ÿæˆéƒ¨ç½²ç¯å¢ƒçš„æ–‡ä»¶
    // è‡ªåŠ¨æ‰§è¡Œdeploy.shè„šæœ¬ï¼Œæ‰§è¡Œè‡ªåŠ¨ç¼–è¯‘å¹¶å°†distä¸Šä¼ è‡³USERNAME.github.ioä»“åº“
    "deploy": "sudo bash deploy.sh",
  }
  ...
}
```

è¿™é‡Œå‰é¢åŠ äº†ä¸€ä¸ª`sudo`æ˜¯å› ä¸ºmacOSä¸­æ‰§è¡Œéœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œwindowsä¸‹å°±ä¸ç”¨åŠ äº†ï¼Œå¦å¤–windowsä¸‹æ‰§è¡Œçš„è¯éœ€è¦åœ¨**powershell**ä¸­æ‰§è¡Œï¼Œ**cmdæ˜¯ä¸è®¤å¾—è¿™ä¸ª`bash`çš„**ã€‚

::: warning

å·®ä¸å¤šä¸€ä¸ªåšå®¢é¡¹ç›®å°±æ­å»ºå®Œäº†ï¼Œå¦å¤–è¿˜æ­å»ºäº†è‡ªåŠ¨åŒ–éƒ¨ç½²çš„ä¸€æ•´å¥—æµç¨‹ã€‚

* å†™å®Œåšå®¢åï¼Œåœ¨æœ¬åœ°è¿è¡Œ`npm run dev`ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¾¹å†™è¾¹è¿è¡Œï¼Œä¿å­˜åé€šè¿‡çƒ­æ›´æ–°å¯ä»¥ç›´æ¥çœ‹åˆ°æ•ˆæœã€‚
* æ£€æŸ¥æ— è¯¯åæ‰§è¡Œ`npm run deploy`ï¼Œå°±å¯ä»¥æ‰§è¡Œ`deploy.sh`è„šæœ¬**æ‰§è¡Œç¼–è¯‘å’Œè‡ªåŠ¨éƒ¨ç½²**ã€‚
* å¦å¤–`Typora`è¿™ä¸ª`Markdowm`ç¼–å†™ç¥å™¨æ˜¯éå¸¸å¥½ç”¨ğŸ‘ã€‚

:::

## ä¸‰ã€å¸¸è§é—®é¢˜

### 1.ç™½å±å¹¶ä¸”æ¨¡å—åŠ è½½å¤±è´¥

![vuepress](/images/other/vuepress-blog-04.png)

ä¸€èˆ¬æ˜¯åˆšå»ºçš„`md`çš„æ–‡ä»¶é‡Œé¢æ²¡æœ‰å†™å…¥ä»»ä½•å­—ç¬¦ï¼Œå¯¼è‡´é”™è¯¯ã€‚

### 2.ç™½å±å¹¶ä¸”çƒ­æ›´æ–°å¤±è´¥

![vuepress](/images/other/vuepress-blog-05.png)

ä¸çŸ¥é“ä¸ºå•¥ï¼Œæˆ‘è¿™é‡Œå¾ˆå¸¸è§ï¼Œå†™ç€å†™ç€å°±è¿™æ ·ï¼Œéœ€è¦`control + c`é€€å‡ºï¼Œå¹¶ä¸”é‡æ–°`npm run dev`ã€‚